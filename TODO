##SQL


--Stored Procedures

    -All standard insert/delete/select * SPs
    -Bunch of Alter SPs

    DONE:
    -Top Up a client
    -Get a list of number of times each prize was redeemed
    -For an employee, get all logs whereh they did something
    -For a given user, fetch(from ToppedUp and Played) any changes on their balance, 
        and the timestamps, and show it in chronological order
    -Extend rent period for a machine


--Triggers
    

    -when inserting a redeemed, check if prize and employee in same store

    DONE:

    

    -When trying to delete supplier (INSTEAD)
        -> check if rent dates of machines have been passed
            -> SUCCESS: delete machines and supplier (Transaction)
            -> FAIL: Abort
            
    -When deleting an Employee (INSTEAD)
        -> replace all references to it with "deleted employee" ID (Transaction)
    
    -When deleting a Client (INSTEAD)
        -> replace all references to it with "deleted client" ID (Transaction)

    -When deleting a machine (INSTEAD)
        -> replace all references to it with "deleted machine" number (Transaction)
    
    -When a client redeems a prize (AFTER)
        -> check if prize stock > 0
        -> check if client points > prize cost
            -> SUCCESS: update prize stock, update client points, create register (Transaction)
            -> FAIL: Abort
    
    -On deleting a game (AFTER)
        -> detect if its publisher has any other game 
            -> FAIL: delete publisher
    
    -when doing a played (after)
        -> check if player has credits
            ->SUCCESS: update player credits, create register (Transaction)
            ->FAIL : Abort



-- Indexes

    at least one for most tables?

